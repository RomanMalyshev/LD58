# Procedural Map Generator for LD58

–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —É—Ä–æ–≤–Ω–µ–π –¥–ª—è –≥–µ–∫—Å–∞–≥–æ–Ω–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–π –∏–≥—Ä—ã.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
- [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã](#–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-—Å–∏—Å—Ç–µ–º—ã)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏)
- [–ê–ª–≥–æ—Ä–∏—Ç–º—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏](#–∞–ª–≥–æ—Ä–∏—Ç–º—ã-–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏)
- [–†–µ–¥–∞–∫—Ç–æ—Ä—Å–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã](#—Ä–µ–¥–∞–∫—Ç–æ—Ä—Å–∫–∏–µ-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã)

## üéØ –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–µ—Ç —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ, –∏–≥—Ä–∞–±–µ–ª—å–Ω—ã–µ –∫–∞—Ä—Ç—ã —Å:
- **–ì–µ–∫—Å–∞–≥–æ–Ω–∞–ª—å–Ω–æ–π —Å–µ—Ç–∫–æ–π** —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º —Ä–∞–¥–∏—É—Å–æ–º
- **13 —Ç–∏–ø–∞–º–∏ —Ç–∞–π–ª–æ–≤** —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–æ–π** —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π
- **–ì–∞—Ä–∞–Ω—Ç–∏–µ–π –ø—Ä–æ—Ö–æ–¥–∏–º–æ—Å—Ç–∏** –≤—Å–µ—Ö –≤–∞–∂–Ω—ã—Ö —Ç–∞–π–ª–æ–≤
- **Seed-based –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π** –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## üß© –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### 1. MapGenerationConfig
**ScriptableObject** —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:
- –†–∞–∑–º–µ—Ä –∫–∞—Ä—Ç—ã (—Ä–∞–¥–∏—É—Å)
- –ü—Ä–æ—Ü–µ–Ω—Ç–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ —Ç–∞–π–ª–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (–∑–∞–º–∫–∏, —Å—É–Ω–¥—É–∫–∏, —Ç–∞–≤–µ—Ä–Ω—ã)
- –ü—Ä–∞–≤–∏–ª–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (–∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è, —Å–≤—è–∑–Ω–æ—Å—Ç—å)
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–ª–∞–Ω—Å–∞

### 2. ProceduralMapGenerator
**–û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞**:
- –°–æ–∑–¥–∞–µ—Ç –≥–µ–∫—Å–∞–≥–æ–Ω–∞–ª—å–Ω—É—é —Å–µ—Ç–∫—É
- –†–∞–∑–º–µ—â–∞–µ—Ç —Ç–∞–π–ª—ã —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–∞–≤–∏–ª–∞–º
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–≤—è–∑–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ—Ö–æ–¥–∏–º–æ—Å—Ç—å
- –ö–ª–∞—Å—Ç–µ—Ä–∏–∑—É–µ—Ç –ø–æ—Ö–æ–∂–∏–µ —Ç–∞–π–ª—ã

### 3. MapBuilder
**–°—Ç—Ä–æ–∏—Ç–µ–ª—å —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∫–∞—Ä—Ç—ã**:
- –ò–Ω—Å—Ç–∞–Ω—Ü–∏—Ä—É–µ—Ç –ø—Ä–µ—Ñ–∞–±—ã —Ç–∞–π–ª–æ–≤
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ MapSettings

### 4. MapGeneratorController
**MonoBehaviour –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä**:
- –£–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- –°–≤—è–∑—ã–≤–∞–µ—Ç –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

### 5. MapAnalyzer
**–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –±–∞–ª–∞–Ω—Å–∞ –∫–∞—Ä—Ç—ã**:
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- –í—ã—á–∏—Å–ª—è–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ (–ø–ª–æ—Ç–Ω–æ—Å—Ç—å —Ä–µ—Å—É—Ä—Å–æ–≤, –æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- –î–∞–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–∞
1. **–ü–ö–ú** –≤ Project ‚Üí `Create` ‚Üí `Configs` ‚Üí `Map Generation Config`
2. –ù–∞–∑–æ–≤–∏—Ç–µ –µ–≥–æ `DefaultMapGenConfig`
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ—Å–µ—Ç—ã)

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ü–µ–Ω—ã
1. –î–æ–±–∞–≤—å—Ç–µ `MapGeneratorController` –Ω–∞ –ø—É—Å—Ç–æ–π GameObject
2. –ù–∞–∑–Ω–∞—á—å—Ç–µ:
   - **MapSettings** (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
   - **MapView** (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
   - **MapGenerationConfig** (—Å–æ–∑–¥–∞–Ω–Ω—ã–π –Ω–∞ —à–∞–≥–µ 1)
3. –ù–∞–∑–Ω–∞—á—å—Ç–µ –≤—Å–µ –ø—Ä–µ—Ñ–∞–±—ã —Ç–∞–π–ª–æ–≤ –∏–∑ `Assets/Prefabs/Tiles/`

### –®–∞–≥ 3: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞—Ä—Ç—ã
**–í–∞—Ä–∏–∞–Ω—Ç A - –í —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ:**
1. –í—ã–±–µ—Ä–∏—Ç–µ GameObject —Å `MapGeneratorController`
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"Generate New Map"** –≤ –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä–µ

**–í–∞—Ä–∏–∞–Ω—Ç B - –í –∫–æ–¥–µ:**
```csharp
mapGeneratorController.GenerateNewMap();
```

**–í–∞—Ä–∏–∞–Ω—Ç C - –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∏–≥—Ä—ã:**
1. –í–∫–ª—é—á–∏—Ç–µ —Ñ–ª–∞–≥ `Generate On Start` –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

### –†–∞–∑–º–µ—Ä –∫–∞—Ä—Ç—ã
```
Map Radius: 1-10
- 1 = 7 —Ç–∞–π–ª–æ–≤ (—Ü–µ–Ω—Ç—Ä + 1 –∫–æ–ª—å—Ü–æ)
- 5 = 91 —Ç–∞–π–ª (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
- 10 = 331 —Ç–∞–π–ª (–±–æ–ª—å—à–∞—è –∫–∞—Ä—Ç–∞)
```

### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∞–π–ª–æ–≤ (–¥–æ–ª–∂–Ω–æ = 100%)
```
Simple Terrain: 30%  - –ü—É—Å—Ç—ã–µ –ø—Ä–æ—Ö–æ–¥–∏–º—ã–µ —Ç–∞–π–ª—ã
Mountain:       15%  - –ù–µ–ø—Ä–æ—Ö–æ–¥–∏–º—ã–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è
River:          5%   - –¢—Ä–µ–±—É—é—Ç –¥–µ—Ä–µ–≤–æ –¥–ª—è –º–æ—Å—Ç–∞
Field:          15%  - –ü—Ä–æ–∏–∑–≤–æ–¥—è—Ç –µ–¥—É
Forest:         15%  - –ü—Ä–æ–∏–∑–≤–æ–¥—è—Ç –¥–µ—Ä–µ–≤–æ
Village:        10%  - –ü—Ä–æ–∏–∑–≤–æ–¥—è—Ç —Å–∏–ª—É
Mine:           5%   - –ü—Ä–æ–∏–∑–≤–æ–¥—è—Ç –∑–æ–ª–æ—Ç–æ
Shaft:          5%   - –ü—Ä–æ–∏–∑–≤–æ–¥—è—Ç –º–µ—Ç–∞–ª–ª
```

### –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–∞–π–ª—ã
```
Enemy Castles:    2    - –í—Ä–∞–∂–µ—Å–∫–∏–µ –∑–∞–º–∫–∏ (—Ü–µ–ª—å –∏–≥—Ä—ã)
Min Castle Dist:  4    - –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –∑–∞–º–∫–∞–º–∏
Chests:           3    - –°—É–Ω–¥—É–∫–∏ —Å —Å–ª—É—á–∞–π–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏
Taverns:          2    - –¢—Ä–∏–≥–≥–µ—Ä—è—Ç —Å–æ–±—ã—Ç–∏—è —Ç–∞–≤–µ—Ä–Ω—ã
Camps:            2    - –¢—Ä–∏–≥–≥–µ—Ä—è—Ç —Å–æ–±—ã—Ç–∏—è –ª–∞–≥–µ—Ä—è
```

### –ü—Ä–∞–≤–∏–ª–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- **Ensure Path To Resources** - –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –≤–∞–∂–Ω—ã—Ö —Ç–∞–π–ª–æ–≤
- **Cluster Mountains** - –ì–æ—Ä—ã —Ñ–æ—Ä–º–∏—Ä—É—é—Ç –∫–ª–∞—Å—Ç–µ—Ä—ã (–µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–µ–µ)
- **Distribute Resources Evenly** - –†–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- **Seed** - –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π seed (0 = —Å–ª—É—á–∞–π–Ω—ã–π)

### –ë–∞–ª–∞–Ω—Å
- **Resource Centralization** (0-1) - –ß–µ–º –≤—ã—à–µ, —Ç–µ–º –±–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤ —É —Ü–µ–Ω—Ç—Ä–∞
- **Danger Progression** (0-1) - –ß–µ–º –≤—ã—à–µ, —Ç–µ–º –æ–ø–∞—Å–Ω–µ–µ –∫—Ä–∞—è –∫–∞—Ä—Ç—ã

## üé≤ –ê–ª–≥–æ—Ä–∏—Ç–º—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

### 1. –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ç–∫–∏
–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏ –≥–µ–∫—Å–∞–≥–æ–Ω–∞–ª—å–Ω–æ–π —Å–µ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—è –∫—É–±–∏—á–µ—Å–∫–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:
```csharp
for q in [-radius, radius]:
  for r in [max(-radius, -q-radius), min(radius, -q+radius)]:
    s = -q - r
    positions.Add((q, r, s))
```

### 2. –†–∞–∑–º–µ—â–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
1. **–ó–∞–º–æ–∫ –∏–≥—Ä–æ–∫–∞** –≤ —Ü–µ–Ω—Ç—Ä–µ (0, 0, 0)
2. **–í—Ä–∞–∂–µ—Å–∫–∏–µ –∑–∞–º–∫–∏** –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ ‚â• MinCastleDistance
3. **–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–∞–π–ª—ã** (—Å—É–Ω–¥—É–∫–∏, —Ç–∞–≤–µ—Ä–Ω—ã, –ª–∞–≥–µ—Ä—è)

### 3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ª–∞–Ω–¥—à–∞—Ñ—Ç–∞
–î–ª—è –∫–∞–∂–¥–æ–π –ø—É—Å—Ç–æ–π –ø–æ–∑–∏—Ü–∏–∏:
1. –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞
2. –ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã (centralization, danger)
3. –í—ã–±–∏—Ä–∞–µ—Ç—Å—è —Ç–∏–ø —Ç–∞–π–ª–∞ –ø–æ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—è–º –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞

### 4. –û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –ø—Ä–æ—Ö–æ–¥–∏–º–æ—Å—Ç–∏
–ê–ª–≥–æ—Ä–∏—Ç–º BFS –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–≤—è–∑–Ω–æ—Å—Ç—å:
- –ï—Å–ª–∏ –≤–∞–∂–Ω—ã–π —Ç–∞–π–ª –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º ‚Üí —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—É—Ç—å
- –ì–æ—Ä—ã –Ω–∞ –ø—É—Ç–∏ –∑–∞–º–µ–Ω—è—é—Ç—Å—è –Ω–∞ Simple —Ç–∞–π–ª—ã

### 5. –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è
–î–ª—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:
- –°–æ—Å–µ–¥–∏ –≥–æ—Ä —Å 30% —à–∞–Ω—Å–æ–º —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –≥–æ—Ä–∞–º–∏
- –ú–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∫ –ª—é–±–æ–º—É —Ç–∏–ø—É —Ç–∞–π–ª–æ–≤

## üõ†Ô∏è –†–µ–¥–∞–∫—Ç–æ—Ä—Å–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### MapGeneratorEditor
–ö–∞—Å—Ç–æ–º–Ω—ã–π –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä –¥–ª—è `MapGeneratorController`:
- **Generate New Map** - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∫–∞—Ä—Ç—É
- **Random Seed** - –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–æ —Å–ª—É—á–∞–π–Ω—ã–º seed
- **Show Stats** - –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∫–∞—Ä—Ç—ã
- **Clear Map** - –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–∞–π–ª—ã

### MapGenerationConfigEditor
–ö–∞—Å—Ç–æ–º–Ω—ã–π –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä –¥–ª—è `MapGenerationConfig`:
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤** - –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç –µ—Å–ª–∏ ‚â† 100%
- **–ü—Ä–µ—Å–µ—Ç—ã**:
  - `Balanced` - –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–∞—Ä—Ç–∞
  - `Resource Rich` - –ú–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å–æ–≤, –ª–µ–≥–∫–∞—è
  - `Challenging` - –ú–∞–ª–æ —Ä–µ—Å—É—Ä—Å–æ–≤, –º–Ω–æ–≥–æ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π
  - `Exploration` - –§–æ–∫—É—Å –Ω–∞ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ, –º–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏–π
  - `Combat Focus` - –§–æ–∫—É—Å –Ω–∞ –±–æ–π, –º–Ω–æ–≥–æ –≤—Ä–∞–≥–æ–≤

### Context Menu
–ü–ö–ú –Ω–∞ `MapGeneratorController`:
- Generate New Map
- Clear Map
- Show Map Statistics
- Generate with Random Seed

## üìä –ê–Ω–∞–ª–∏–∑ –∫–∞—Ä—Ç—ã

–ü–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `MapAnalyzer` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–∞–ª–∞–Ω—Å–∞:

```csharp
var analysis = MapAnalyzer.Analyze(generatedMap);
MapAnalyzer.PrintReport(analysis);
```

**–ú–µ—Ç—Ä–∏–∫–∏:**
- `ResourceDensity` - –ü—Ä–æ—Ü–µ–Ω—Ç —Ä–µ—Å—É—Ä—Å–Ω—ã—Ö —Ç–∞–π–ª–æ–≤ (–æ–ø—Ç–∏–º—É–º: 40-60%)
- `CombatDensity` - –ü—Ä–æ—Ü–µ–Ω—Ç –±–æ–µ–≤—ã—Ö —Ç–∞–π–ª–æ–≤
- `IsBalanced` - –ü—Ä–æ—Ö–æ–¥–∏—Ç –ª–∏ –±–∞–∑–æ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- `Warnings` - –ü—Ä–æ–±–ª–µ–º—ã —Å –±–∞–ª–∞–Ω—Å–æ–º
- `Recommendations` - –°–æ–≤–µ—Ç—ã –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

## üéÆ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–¥–µ

```csharp
// –°–æ–∑–¥–∞–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
var generator = new ProceduralMapGenerator(config, mapSettings);

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞—Ä—Ç—ã
var mapData = generator.GenerateMap();

// –ê–Ω–∞–ª–∏–∑
var analysis = MapAnalyzer.Analyze(mapData);
if (!analysis.IsBalanced)
{
    Debug.LogWarning("Map is not balanced!");
}

// –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∫–∞—Ä—Ç—ã
var builder = new MapBuilder(mapSettings, mapView.transform);
builder.RegisterTilePrefab(TileType.Simple, simplePrefab);
// ... —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø—Ä–µ—Ñ–∞–±–æ–≤
builder.BuildMap(mapData);

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ MapSettings
builder.SaveToMapSettings(mapData);
```

## üîß –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ —Ç–∞–π–ª–∞
1. –î–æ–±–∞–≤—å—Ç–µ –≤ enum `TileType`
2. –û–±–Ω–æ–≤–∏—Ç–µ `MapGenerationConfig.GetRandomTileType()`
3. –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ—Ü–µ–Ω—Ç –≤ –∫–æ–Ω—Ñ–∏–≥
4. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –ø—Ä–µ—Ñ–∞–± –≤ `MapGeneratorController`

### –ö–∞—Å—Ç–æ–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
–ù–∞—Å–ª–µ–¥—É–π—Ç–µ—Å—å –æ—Ç `ProceduralMapGenerator`:
```csharp
public class CustomMapGenerator : ProceduralMapGenerator
{
    protected override TileType DetermineTileType(Vector3Int pos, float dist)
    {
        // –í–∞—à–∞ –ª–æ–≥–∏–∫–∞
    }
}
```

## üìù Best Practices

1. **–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ** —Å—É–º–º—É –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ = 100%
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π seed** –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∫–∞—Ä—Ç—É** –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º
4. **–°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —É–¥–∞—á–Ω—ã–µ seeds** –≤ –∫–æ–Ω—Ñ–∏–≥–µ
5. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–æ—Ö–æ–¥–∏–º–æ—Å—Ç—å** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤

## üêõ Troubleshooting

**–ö–∞—Ä—Ç–∞ –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ —Å—Å—ã–ª–∫–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω—ã
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø—Ä–µ—Ñ–∞–±—ã –∏–º–µ—é—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `Tile`

**–¢–∞–π–ª—ã –Ω–∞–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Edge –≤ MapSettings
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ MapView.Tiles –æ—á–∏—â–µ–Ω

**–î–∏—Å–±–∞–ª–∞–Ω—Å —Ä–µ—Å—É—Ä—Å–æ–≤:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ MapAnalyzer
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–∏–µ –ø—Ä–µ—Å–µ—Ç—ã

**–ó–∞–º–∫–∏ –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º—ã:**
- –í–∫–ª—é—á–∏—Ç–µ `Ensure Path To Resources`
- –£–º–µ–Ω—å—à–∏—Ç–µ `Mountain Percentage`

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

–°–æ–∑–¥–∞–Ω–æ –∫–∞–∫ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–ª—è Unity.
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏:
- –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- Seed-based –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –∞–Ω–∞–ª–∏–∑
- –†–µ–¥–∞–∫—Ç–æ—Ä—Å–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**Unity:** 2021.3+  
**–õ–∏—Ü–µ–Ω–∑–∏—è:** –ü—Ä–æ–µ–∫—Ç LD58

